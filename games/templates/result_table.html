{% load humanize %}

<!-- Default display for a game which is either completed, suspended or postponed. -->

<table class="stat-table">
    <tr class="header-row">
        <th class="stat-intro">
            <!-- If a game is not complete, show its status. If it is complete, show that it is a final score. If
            a number of innings other than the standard 9 were played, indicate the number. -->
            {% if result.game_status != "Completed" %}
                {% if result.game_status == "Postponed" %}
                    POSTPONED
                {% else %}
                    SUSPENDED ({{ result.innings|ordinal }})
                {% endif %}
            {% else %}
                FINAL {% if result.innings != 9 %}({{ result.innings }}){% endif %}
            {% endif %}
        </th>
        <th class="score-column">R</th>
        <th class="score-column">H</th>
        <th class="score-column">E</th>
    </tr>
    <!-- Show the name of the away team, and their score information if the game was not postponed. -->
    <tr>
        <td class="stat-header">
            <img class="small-logo" src="{{ MEDIA_URL }}{{ result.away_team.small_logo }}" />
            <a class="table-link" href="{% url 'team_games' result.away_team.geographic_name|lower %}">
                {% if result.game_status == "Completed" and result.away_team_runs > result.home_team_runs %}
                    <strong>{{ result.away_team }}</strong>
                {% else %}
                    {{ result.away_team }}
                {% endif %}
            </a>
        </td>
        {% if result.game_status == "Postponed" %}
            <td></td>
            <td></td>
            <td></td>
        {% else %}
            <td class="stat-detail"><strong>{{ result.away_team_runs }}</strong></td>
            <td class="stat-detail-faint">{{ result.away_team_hits }}</td>
            <td class="stat-detail-faint">{{ result.away_team_errors }}</td>
        {% endif %}
    </tr>
    <!-- Show the name of the home team, and their score information if the game was not postponed. -->
    <tr>
        <td class="stat-header">
            <img class="small-logo" src="{{ MEDIA_URL }}{{ result.home_team.small_logo }}" />
            <a class="table-link" href=
                    "{% url 'team_games' result.home_team.geographic_name|lower %}">
                {% if result.game_status == "Completed" and result.home_team_runs > result.away_team_runs %}
                    <strong>{{ result.home_team }}</strong>
                {% else %}
                    {{ result.home_team }}
                {% endif %}
            </a>
        </td>
        {% if result.game_status == "Postponed" %}
            <td></td>
            <td></td>
            <td></td>
        {% else %}
            <td class="stat-detail"><strong>{{ result.home_team_runs }}</strong></td>
            <td class="stat-detail-faint">{{ result.home_team_hits }}</td>
            <td class="stat-detail-faint">{{ result.home_team_errors }}</td>
        {% endif %}
    </tr>
</table>